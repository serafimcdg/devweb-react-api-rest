{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaos\\\\Desktop\\\\Ativdade3\\\\dw-main\\\\editora_gui\\\\src\\\\components\\\\artigo.js\";\nimport React, { Component } from \"react\";\nimport ArtigoDataService from \"../services/artigoDataService\";\nimport { useParams } from 'react-router-dom'; // Para obter parâmetros passados via Router v6\n// Ex.: (em) this.props.match.params.id\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function withRouter(Children) {\n  var _s = $RefreshSig$();\n\n  return _s(props => {\n    _s();\n\n    const match = {\n      params: useParams()\n    };\n    return /*#__PURE__*/_jsxDEV(Children, { ...props,\n      match: match\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 15\n    }, this);\n  }, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n    return [useParams];\n  });\n}\n\nclass Artigo extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitulo = this.onChangeTitulo.bind(this);\n    this.onChangeResumo = this.onChangeResumo.bind(this);\n    this.getArtigo = this.getArtigo.bind(this);\n    this.updatePublicado = this.updatePublicado.bind(this);\n    this.updateArtigo = this.updateArtigo.bind(this);\n    this.deleteArtigo = this.deleteArtigo.bind(this);\n    this.state = {\n      artigoAtual: {\n        id: null,\n        titulo: \"\",\n        resumo: \"\",\n        publicado: false\n      },\n      mensagem: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getArtigo(this.props.match.params.id);\n  }\n\n  onChangeTitulo(e) {\n    const titulo = e.target.value;\n    this.setState(function (prevState) {\n      return {\n        artigoAtual: { ...prevState.artigoAtual,\n          titulo: titulo\n        }\n      };\n    });\n  }\n\n  onChangeResumo(e) {\n    const resumo = e.target.value;\n    this.setState(prevState => ({\n      artigoAtual: { ...prevState.artigoAtual,\n        resumo: resumo\n      }\n    }));\n  }\n\n  getArtigo(id) {\n    ArtigoDataService.get(id).then(response => {\n      this.setState({\n        artigoAtual: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(\"Erro: \" + e);\n    });\n  }\n\n  updatePublicado(status) {\n    var data = {\n      id: this.state.artigoAtual.id,\n      titulo: this.state.artigoAtual.titulo,\n      resumo: this.state.artigoAtual.resumo,\n      publicado: status\n    };\n    ArtigoDataService.update(this.state.artigoAtual.id, data).then(response => {\n      this.setState(prevState => ({\n        artigoAtual: { ...prevState.artigoAtual,\n          publicado: status\n        }\n      }));\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  updateArtigo() {\n    ArtigoDataService.update(this.state.artigoAtual.id, this.state.artigoAtual).then(response => {\n      console.log(response.data);\n      this.setState({\n        mensagem: \"Artigo atualizado com sucesso!\"\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  deleteArtigo() {\n    ArtigoDataService.delete(this.state.artigoAtual.id).then(response => {\n      console.log(response.data);\n      this.props.history.push('/list');\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    const {\n      artigoAtual\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: artigoAtual ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Artigo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"titulo\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"T\\xEDtulo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"titulo\",\n              value: artigoAtual.titulo,\n              onChange: this.onChangeTitulo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"resumo\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Resumo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"resumo\",\n              value: artigoAtual.resumo,\n              onChange: this.onChangeResumo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              children: artigoAtual.publicado ? \" publicado\" : \" não publicado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), artigoAtual.publicado ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"m-2 btn btn-sm btn-primary mr-2\",\n          onClick: () => this.updatePublicado(false),\n          children: \"Alterar status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"m-2 btn btn-sm btn-primary mr-2\",\n          onClick: () => this.updatePublicado(true),\n          children: \"Alterar status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"m-2 btn btn-sm btn-danger mr-2\",\n          onClick: this.deleteArtigo,\n          children: \"Excluir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"m-2 btn btn-sm btn-success\",\n          onClick: this.updateArtigo,\n          children: \"Atualizar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.state.mensagem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Para detalhes, selecionar um artigo.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Artigo);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/joaos/Desktop/Ativdade3/dw-main/editora_gui/src/components/artigo.js"],"names":["React","Component","ArtigoDataService","useParams","withRouter","Children","props","match","params","Artigo","constructor","onChangeTitulo","bind","onChangeResumo","getArtigo","updatePublicado","updateArtigo","deleteArtigo","state","artigoAtual","id","titulo","resumo","publicado","mensagem","componentDidMount","e","target","value","setState","prevState","get","then","response","data","console","log","catch","status","update","delete","history","push","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ArtigoDataService from \"../services/artigoDataService\";\n\nimport { useParams } from 'react-router-dom';\n\n// Para obter parâmetros passados via Router v6\n// Ex.: (em) this.props.match.params.id\nexport function withRouter(Children){\n    return(props)=>{\n\n       const match  = {params: useParams()};\n       return <Children {...props}  match = {match}/>\n   }\n }\n\nclass Artigo extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitulo = this.onChangeTitulo.bind(this);\n    this.onChangeResumo = this.onChangeResumo.bind(this);\n    this.getArtigo = this.getArtigo.bind(this);\n    this.updatePublicado = this.updatePublicado.bind(this);\n    this.updateArtigo = this.updateArtigo.bind(this);\n    this.deleteArtigo = this.deleteArtigo.bind(this);\n\n    this.state = {\n      artigoAtual: {\n        id: null,\n        titulo: \"\",\n        resumo: \"\",\n        publicado: false\n      },\n      mensagem: \"\"\n    };\n  }\n  \n  componentDidMount() {\n\n    this.getArtigo(this.props.match.params.id);\n  }\n\n  onChangeTitulo(e) {\n    const titulo = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        artigoAtual: {\n          ...prevState.artigoAtual,\n          titulo: titulo\n        }\n      };\n    });\n  }\n\n  onChangeResumo(e) {\n    const resumo = e.target.value;\n    \n    this.setState(prevState => ({\n      artigoAtual: {\n        ...prevState.artigoAtual,\n        resumo: resumo\n      }\n    }));\n  }\n\n  getArtigo(id) {\n    ArtigoDataService.get(id)\n      .then(response => {\n        this.setState({\n          artigoAtual: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        \n        console.log(\"Erro: \"+e);\n      });\n  }\n\n  updatePublicado(status) {\n    var data = {\n      id: this.state.artigoAtual.id,\n      titulo: this.state.artigoAtual.titulo,\n      resumo: this.state.artigoAtual.resumo,\n      publicado: status\n    };\n\n    ArtigoDataService.update(this.state.artigoAtual.id, data)\n      .then(response => {\n        this.setState(prevState => ({\n          artigoAtual: {\n            ...prevState.artigoAtual,\n            publicado: status\n          }\n        }));\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  updateArtigo() {\n    ArtigoDataService.update(\n      this.state.artigoAtual.id,\n      this.state.artigoAtual\n    )\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          mensagem: \"Artigo atualizado com sucesso!\"\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  deleteArtigo() {    \n    ArtigoDataService.delete(this.state.artigoAtual.id)\n      .then(response => {\n        console.log(response.data);\n        this.props.history.push('/list')\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { artigoAtual } = this.state;\n\n    return (\n      <div>\n        {artigoAtual ? (\n          <div className=\"edit-form\">\n            <h4>Artigo</h4>\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"titulo\"><strong>Título</strong></label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"titulo\"\n                  value={artigoAtual.titulo}\n                  onChange={this.onChangeTitulo}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"resumo\"><strong>Resumo</strong></label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"resumo\"\n                  value={artigoAtual.resumo}\n                  onChange={this.onChangeResumo}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <br />\n                <label>\n                  <strong>Status:</strong>\n                </label>\n                    <b>\n                    {artigoAtual.publicado ? \" publicado\" : \" não publicado\"}\n                    </b>\n              </div>\n            </form>\n            \n\n            {artigoAtual.publicado ? (\n              <button\n                className=\"m-2 btn btn-sm btn-primary mr-2\"\n                onClick={() => this.updatePublicado(false)}\n              >\n                Alterar status\n              </button>\n            ) : (\n              <button\n                className=\"m-2 btn btn-sm btn-primary mr-2\"\n                onClick={() => this.updatePublicado(true)}\n              >\n                Alterar status\n              </button>\n            )}\n\n            <button\n              className=\"m-2 btn btn-sm btn-danger mr-2\"\n              onClick={this.deleteArtigo}\n            >\n              Excluir\n            </button>\n\n            <button\n              type=\"submit\"\n              className=\"m-2 btn btn-sm btn-success\"\n              onClick={this.updateArtigo}\n            >\n              Atualizar\n            </button>\n            <p>{this.state.mensagem}</p>\n          </div>\n        ) : (\n          <div>\n            <br />\n            <p><i>Para detalhes, selecionar um artigo.</i></p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nexport default withRouter(Artigo);"]},"metadata":{},"sourceType":"module"}